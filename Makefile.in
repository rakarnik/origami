BAMLIBS = -lbamtools
BAMINC = -I/usr/local/include/bamtools
prefix=@prefix@
exec_prefix=@exec_prefix@
bindir=@bindir@
scriptdir=${prefix}/scripts

all: bamexes

bamexes:
	cd src && g++ $(BAMINC) -c mapped-reads-merge.cpp
	cd src && g++ -o mapped-reads-merge mapped-reads-merge.o $(BAMLIBS)

clean:
	cd src && rm *.o mapped-reads-merge

dist:
	tar -cvf origami.tar configure.ac configure Makefile.in README.md INSTALL bin/origami-conversion bin/origami-analysis.in bin/origami-alignment.in scripts/* src/mapped-reads-merge.cpp
	gzip origami.tar

install:
	mkdir -p ${bindir}
	cp bin/origami-alignment bin/origami-analysis bin/origami-conversion ${bindir}
	mkdir -p ${scriptdir}
	cp -r scripts ${scriptdir}
	cp src/mapped-reads-merged ${bindir}
